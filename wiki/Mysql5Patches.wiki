#summary Patches for MySQL 5
#labels Featured

= Introduction =

The code has been changed to make MySQL more manageable, available and scalable. Many problems remain to be solved to improve SMP performance. This is a good start.

These have the same functionality as the MySQL 4 patches. There are several patch sets:
  * the [http://google-mysql-tools.googlecode.com/svn/trunk/mysql-patches/mysql-5.0.37-patches big V1 patch] published in 2007
  * the [http://google-mysql-tools.googlecode.com/svn/trunk/mysql-patches/mysql-5.0.37_semisync.patch semi-sync replication V1] patch published in 2007.
  * the [http://code.google.com/p/google-mysql-tools/source/browse/trunk/mysql-patches/mutexstats-5.1.26.patch mutex contention statistics patch] for MySQL 5.1.26
  * the big [http://code.google.com/p/google-mysql-tools/source/browse/trunk/mysql-patches/all.v2-mysql-5.0.37.patch.gz V2 patch] with all of our changes for MySQL 5.0.37
  * the [http://code.google.com/p/google-mysql-tools/source/browse/trunk/mysql-patches/smp-5.0.67.patch patch to improve SMP performance] for MySQL 5.0.67. This has two changes:
     * use atomic memory instructions for the InnoDB mutex and rw-mutex. This is only done for x86 platforms that use a recent (>= 4.1) version of GCC.
     * disable the InnoDB memory heap. Thisi s done for all platforms.

SmpPerformance has results for a variety of MySQL versions on 4, 8 and 16 core servers. 

= Feedback, Problems and Comments =

Use the [http://groups.google.com/group/google-mysql-tools google-mysql-tools group]

= Disclaimer =

We have changed a lot of code. Not all of the changes are described here and some of the changes to default behavior from new my.cnf variables can break your applications. Unless your name rhymes with Domas, it might be better to take pieces of the patch rather than try to use all of it.

The code has been tested on 32-bit and 64-bit Linux x86. We may have broken the build for other platforms.

The embedded server, *--with-embedded-server*, cannot be built with these changes. We have broken the build for it.

Many of the Makefile.in and Makefile.am files have been changed in the big patch because we changed InnoDB to use the top-level configure.

If you try to install the big patch, treat it like [http://dev.mysql.com/doc/refman/5.0/en/installing-source-tree.html installing from a source tree].

= Authors =

A lot of people have contributed to this:
  * Wei Li
  * Gene Pang
  * Eric Rollins
  * Ben Handy
  * Justin Tolmer
  * Larry Zhou
  * Yuan Wei
  * Robert Banz
  * Chip Turner
  * Steve Gunn
  * Mark Callaghan

= Features in the V2 patch =

   * SqlChanges
   * SemiSyncReplication
   * InnodbSmp
   * NewShowStatus
   * NewShowInnodbStatus
   * NewConfiguration
   * UserTableMonitoring
   * TransactionalReplication
   * MysqlRoles
   * MysqlRateLimiting
   * MoreLogging
   * InnodbAsyncIo
   * FastMasterPromotion
   * MirroredBinlogs
   * InnodbSampling
   * NewSqlFunctions
   * InnodbStatus
   * LosslessFloatDump
   * MysqlHttp
   * InnodbIoTuning
   * MutexContentionStats
   * FastMutexes

= Features in the V2 beta patch =

This has not been released yet.
   * GlobalTransactionIds
   * OnlineDataDrift
   * MysqlThreadPool